<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using the BTCPay API for Custom Integration | BTCPay Server Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="/styles/btcpayserver-variables.css">
    <meta name="description" content="BTCPay Server Official Documentation">
    <meta property="og:site_name" content="BTCPay Server Docs">
    <meta property="og:title" content="Using the BTCPay API for Custom Integration">
    <meta property="og:description" content="BTCPay Server provides 2 APIS in order to integrate with it:">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://docs.btcpayserver.org/CustomIntegration/">
    <meta property="og:image" content="https://docs.btcpayserver.org/card.png">
    <meta name="twitter:title" content="Using the BTCPay API for Custom Integration">
    <meta name="twitter:description" content="BTCPay Server provides 2 APIS in order to integrate with it:">
    <meta name="twitter:url" content="https://docs.btcpayserver.org/CustomIntegration/">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://docs.btcpayserver.org/card.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="BTCPay Server Docs">
    <meta name="twitter:creator" content="btcpayserver">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="BTCPay Server">
    <meta property="article:tag" content="BTCPay Server">
    
    <link rel="preload" href="/assets/css/0.styles.1323c551.css" as="style"><link rel="preload" href="/assets/js/app.9c2fec19.js" as="script"><link rel="preload" href="/assets/js/3.7fd5ecbc.js" as="script"><link rel="preload" href="/assets/js/23.49665bea.js" as="script"><link rel="preload" href="/assets/js/67.5a6fef82.js" as="script"><link rel="prefetch" href="/assets/js/10.7d9ff8d3.js"><link rel="prefetch" href="/assets/js/11.cac4a60c.js"><link rel="prefetch" href="/assets/js/12.00c39435.js"><link rel="prefetch" href="/assets/js/13.aad9e6f3.js"><link rel="prefetch" href="/assets/js/14.f9bbc395.js"><link rel="prefetch" href="/assets/js/15.dec46ca8.js"><link rel="prefetch" href="/assets/js/16.b045b957.js"><link rel="prefetch" href="/assets/js/17.ec238305.js"><link rel="prefetch" href="/assets/js/18.6f1d70de.js"><link rel="prefetch" href="/assets/js/19.bb752ba3.js"><link rel="prefetch" href="/assets/js/20.b70abad4.js"><link rel="prefetch" href="/assets/js/21.11c3e2db.js"><link rel="prefetch" href="/assets/js/22.1e3ba5a5.js"><link rel="prefetch" href="/assets/js/24.5c1e1c14.js"><link rel="prefetch" href="/assets/js/25.f55aa65d.js"><link rel="prefetch" href="/assets/js/26.ef7d0c1c.js"><link rel="prefetch" href="/assets/js/27.45249e40.js"><link rel="prefetch" href="/assets/js/28.a8dbae36.js"><link rel="prefetch" href="/assets/js/29.20c83204.js"><link rel="prefetch" href="/assets/js/30.780cd192.js"><link rel="prefetch" href="/assets/js/31.e4463efc.js"><link rel="prefetch" href="/assets/js/32.71b2b524.js"><link rel="prefetch" href="/assets/js/33.0708fc7b.js"><link rel="prefetch" href="/assets/js/34.41ca73bc.js"><link rel="prefetch" href="/assets/js/35.9269ce48.js"><link rel="prefetch" href="/assets/js/36.51a1e54a.js"><link rel="prefetch" href="/assets/js/37.1f8f6c3a.js"><link rel="prefetch" href="/assets/js/38.ddf80700.js"><link rel="prefetch" href="/assets/js/39.19b9a74f.js"><link rel="prefetch" href="/assets/js/4.8422278d.js"><link rel="prefetch" href="/assets/js/40.af3ba0ea.js"><link rel="prefetch" href="/assets/js/41.e1da59ad.js"><link rel="prefetch" href="/assets/js/42.95f800ea.js"><link rel="prefetch" href="/assets/js/43.a4324c9a.js"><link rel="prefetch" href="/assets/js/44.b580fe86.js"><link rel="prefetch" href="/assets/js/45.71c1b94b.js"><link rel="prefetch" href="/assets/js/46.587c1843.js"><link rel="prefetch" href="/assets/js/47.e2e24317.js"><link rel="prefetch" href="/assets/js/48.01fb3e45.js"><link rel="prefetch" href="/assets/js/49.2b884882.js"><link rel="prefetch" href="/assets/js/5.72617d87.js"><link rel="prefetch" href="/assets/js/50.a0578ac5.js"><link rel="prefetch" href="/assets/js/51.4412a4b1.js"><link rel="prefetch" href="/assets/js/52.11657185.js"><link rel="prefetch" href="/assets/js/53.ede60e09.js"><link rel="prefetch" href="/assets/js/54.888442ea.js"><link rel="prefetch" href="/assets/js/55.b9ae4933.js"><link rel="prefetch" href="/assets/js/56.d661a665.js"><link rel="prefetch" href="/assets/js/57.572d5d1e.js"><link rel="prefetch" href="/assets/js/58.a5edc62b.js"><link rel="prefetch" href="/assets/js/59.50a15b5b.js"><link rel="prefetch" href="/assets/js/6.ae69e5fd.js"><link rel="prefetch" href="/assets/js/60.c8330800.js"><link rel="prefetch" href="/assets/js/61.87a22eb6.js"><link rel="prefetch" href="/assets/js/62.1a855249.js"><link rel="prefetch" href="/assets/js/63.0932139d.js"><link rel="prefetch" href="/assets/js/64.118d5f0b.js"><link rel="prefetch" href="/assets/js/65.019e776c.js"><link rel="prefetch" href="/assets/js/66.1e62f605.js"><link rel="prefetch" href="/assets/js/68.d8dd0296.js"><link rel="prefetch" href="/assets/js/69.0fa8cf4d.js"><link rel="prefetch" href="/assets/js/7.379d5be5.js"><link rel="prefetch" href="/assets/js/70.fa4fbfb2.js"><link rel="prefetch" href="/assets/js/71.e01669af.js"><link rel="prefetch" href="/assets/js/72.fa655825.js"><link rel="prefetch" href="/assets/js/73.9fb9803e.js"><link rel="prefetch" href="/assets/js/74.71a8cb83.js"><link rel="prefetch" href="/assets/js/75.89225d71.js"><link rel="prefetch" href="/assets/js/76.5eeaf1fb.js"><link rel="prefetch" href="/assets/js/77.e0d74eee.js"><link rel="prefetch" href="/assets/js/78.7c2557a0.js"><link rel="prefetch" href="/assets/js/79.2238628d.js"><link rel="prefetch" href="/assets/js/8.60d2f854.js"><link rel="prefetch" href="/assets/js/80.6753e82e.js"><link rel="prefetch" href="/assets/js/81.d37a84fb.js"><link rel="prefetch" href="/assets/js/82.c534844d.js"><link rel="prefetch" href="/assets/js/83.11db65e1.js"><link rel="prefetch" href="/assets/js/84.9eff42f0.js"><link rel="prefetch" href="/assets/js/85.7daee53f.js"><link rel="prefetch" href="/assets/js/86.dd44657b.js"><link rel="prefetch" href="/assets/js/87.2f44d097.js"><link rel="prefetch" href="/assets/js/88.baeac303.js"><link rel="prefetch" href="/assets/js/89.bab64a20.js"><link rel="prefetch" href="/assets/js/9.7f3c5929.js"><link rel="prefetch" href="/assets/js/90.609916c5.js"><link rel="prefetch" href="/assets/js/91.ff68fe12.js"><link rel="prefetch" href="/assets/js/92.1345b273.js"><link rel="prefetch" href="/assets/js/93.a88aecb5.js"><link rel="prefetch" href="/assets/js/94.cae5d2f1.js"><link rel="prefetch" href="/assets/js/95.fc78dcc3.js"><link rel="prefetch" href="/assets/js/96.168a89b4.js"><link rel="prefetch" href="/assets/js/97.f444e38e.js"><link rel="prefetch" href="/assets/js/98.85ee463f.js"><link rel="prefetch" href="/assets/js/99.6056cd7d.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.24ae6953.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1323c551.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/btcpay-logo.svg" alt="BTCPay Server Docs" class="logo"> <span class="site-name can-hide">BTCPay Server Docs</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav> <button type="button" class="btcpay-theme-switch"><svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path transform="translate(1 1)" d="M2.72 0A3.988 3.988 0 000 3.78c0 2.21 1.79 4 4 4 1.76 0 3.25-1.14 3.78-2.72-.4.13-.83.22-1.28.22-2.21 0-4-1.79-4-4 0-.45.08-.88.22-1.28z" class="btcpay-theme-switch-dark"></path><path transform="translate(1 1)" d="M4 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 0 4 0zM1.5 1c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM.5 3.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm7 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM1.5 6c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm5 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zM4 7c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5S4.28 7 4 7z" class="btcpay-theme-switch-light"></path></svg></button></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://btcpayserver.org/" target="_blank" rel="noopener noreferrer website" class="nav-link external">
  Website
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://chat.btcpayserver.org/" target="_blank" rel="noopener noreferrer chat" class="nav-link external">
  Chat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/btcpayserver/" target="_blank" rel="noopener noreferrer github" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://twitter.com/BtcpayServer" target="_blank" rel="noopener noreferrer twitter" class="nav-link external">
  Twitter
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/btcpayserver/btcpayserver-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Introduction</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Basics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/UseCase/" class="sidebar-link">Use Case</a></li><li><a href="/Walkthrough/" class="sidebar-link">Walkthrough</a></li><li><a href="/BTCPayVsOthers/" class="sidebar-link">BTCPay Server vs. Others</a></li><li><a href="/TryItOut/" class="sidebar-link">Try it out</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Deployment</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Deployment/" class="sidebar-link">Choosing a Deployment Method</a></li><li><a href="/ThirdPartyHosting/" class="sidebar-link">Third-party Hosting</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/Docker/" class="sidebar-heading clickable"><span>Docker</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/LunaNodeWebDeployment/" class="sidebar-link">Web Deployment</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/AzureDeployment" class="sidebar-heading clickable"><span>Azure Deployment</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/GoogleCloudDeployment/" class="sidebar-link">Google Cloud Deployment</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/HardwareDeployment" class="sidebar-heading clickable"><span>Hardware Deployment</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/RaspberryPiDeployment" class="sidebar-heading clickable"><span>Raspberry Pi Deployment</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Docker Plugins</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/ManualDeployment" class="sidebar-heading clickable"><span>Manual Deployment</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Configurator/" class="sidebar-link">Configurator</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/RegisterAccount/" class="sidebar-link">(1) Register account</a></li><li><a href="/CreateStore/" class="sidebar-link">(2) Create a store</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/WalletSetup" class="sidebar-heading clickable"><span>(3) Wallet Setup</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/ConnectWallet/" class="sidebar-link">Connect Wallet</a></li><li><a href="/CreateWallet/" class="sidebar-link">Create Wallet</a></li></ul></section></li><li><a href="/WhatsNext/" class="sidebar-link">(4) What's Next?</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Features</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Apps/" class="sidebar-link">Apps</a></li><li><a href="/Wallet/" class="sidebar-link">Wallet</a></li><li><a href="/Invoices/" class="sidebar-link">Invoices</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/PullPayments" class="sidebar-heading clickable"><span>Pull Payments</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/PaymentRequests/" class="sidebar-link">Payment Requests</a></li><li><a href="/LightningNetwork/" class="sidebar-link">Lightning Network</a></li><li><a href="/Accounting/" class="sidebar-link">Accounting</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Payjoin" class="sidebar-heading clickable"><span>Payjoin</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Integrations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/WooCommerce/" class="sidebar-link">WooCommerce</a></li><li><a href="/Shopify/" class="sidebar-link">Shopify</a></li><li><a href="/Drupal/" class="sidebar-link">Drupal</a></li><li><a href="/Magento/" class="sidebar-link">Magento</a></li><li><a href="/PrestaShop/" class="sidebar-link">PrestaShop</a></li><li><a href="https://github.com/lampsolutions/LampSBtcPayShopware" target="_blank" rel="noopener noreferrer" class="sidebar-link">Shopware<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/CustomIntegration/" aria-current="page" class="active sidebar-link">Custom Integration</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Support and Community</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/FAQ" class="sidebar-heading clickable"><span>FAQ and common issues</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Troubleshooting/" class="sidebar-link">Troubleshooting an issue</a></li><li><a href="/Support/" class="sidebar-link">Support</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/Contribute" class="sidebar-heading clickable"><span>Contribute to BTCPay Server</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/Community/" class="sidebar-link">Community</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Development</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Architecture/" class="sidebar-link">Architecture</a></li><li><a href="/LocalDevelopment/" class="sidebar-link">Developing Locally</a></li><li><a href="/Altcoins/" class="sidebar-link">How to add an Altcoin</a></li><li><a href="/Theme/" class="sidebar-link">Customizing Themes</a></li><li><a href="https://docs.btcpayserver.org/API/Greenfield/v1" target="_blank" rel="noopener noreferrer" class="sidebar-link">Greenfield API v1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li><a href="/GreenFieldExample/" class="sidebar-link">Greenfield example with cURL</a></li><li><a href="/BTCPayServer/Security/" class="sidebar-link">Security Disclosures</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="using-the-btcpay-api-for-custom-integration"><a href="#using-the-btcpay-api-for-custom-integration" class="header-anchor">#</a> Using the BTCPay API for Custom Integration</h1> <p>BTCPay Server provides 2 APIS in order to integrate with it:</p> <ul><li><a href="/GreenFieldExample/">GreenField API</a> - A RESTful API that aims to allow you to use BTCPay Server headless. This is the recommended API for projects which do not wish to recycle code from a Bitpay integration.</li> <li>Bitpay Invoice API - BTCPay implements the same API as Bitpay for creating and managing invoices.</li></ul> <p><strong>Migrating from BitPay to BTCPay</strong> normally is as easy as changing a URL.</p> <p>While Bitpay only allows one account for one merchant, BTCPay allows a user to manage multiple stores.</p> <h1 id="official-client-libraries"><a href="#official-client-libraries" class="header-anchor">#</a> Official Client Libraries</h1> <p>BTCPay maintains official client libraries for <a href="https://github.com/MetacoSA/NBitpayClient" target="_blank" rel="noopener noreferrer">C#<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://github.com/btcpayserver/btcpay-python" target="_blank" rel="noopener noreferrer">Python<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/btcpayserver/node-btcpay" target="_blank" rel="noopener noreferrer">NodeJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>In addition, there are forked repositories of Bitpay's <a href="https://github.com/btcpayserver/btcpayserver-php-client" target="_blank" rel="noopener noreferrer">PHP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/bitpay/ruby-client" target="_blank" rel="noopener noreferrer">Ruby<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> clients.</p> <h1 id="accessing-the-api-manually"><a href="#accessing-the-api-manually" class="header-anchor">#</a> Accessing the API Manually</h1> <p>If not using one of the libraries above, the REST API can be accessed manually.</p> <p>The authentication mechanism is using <code>BitId</code>.</p> <p>With <code>BitId</code>, the <code>client</code> of the API (like an e-commerce plugin) generates a private key, then informs the <code>server</code> (BTCPay) about the <code>public key</code>.</p> <p>Every requests to the API sent by the client is signed with the client's <code>private key</code>.</p> <p>We call <code>pairing</code> the process to inform BTCPay about your <code>public key</code>.</p> <h2 id="pairing-process"><a href="#pairing-process" class="header-anchor">#</a> Pairing process</h2> <p>Your first need to create a new store:</p> <ol><li>Log in</li> <li>Go to Stores menu</li> <li>Click on <code>Create a new store</code></li> <li>Enter a friendly name for the store, validate.</li></ol> <p>There is two method of <code>pairing</code>, client side pairing and server side pairing.</p> <h3 id="client-side-pairing"><a href="#client-side-pairing" class="header-anchor">#</a> Client side pairing</h3> <p>With client side pairing, the <code>client</code> generates a URL from their <code>public key</code> which a human user can browse to validate the pairing.</p> <p>Typically the URL looks like <code>https://btcpay.example.com/api-access-request?pairingCode=&lt;pairingcode_goes_here&gt;</code>.</p> <p>You can find documentation about how to achieve this with <a href="https://support.bitpay.com/hc/en-us/articles/115003001183-How-do-I-pair-my-client-and-create-a-token-" target="_blank" rel="noopener noreferrer">this link<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="server-side-pairing"><a href="#server-side-pairing" class="header-anchor">#</a> Server side pairing</h3> <p>The second way, is to generate your private key via some bitcoin library then:</p> <ol><li>Go to the store's settings</li> <li>Click on <code>Access tokens</code></li> <li>Click on <code>Create new Token</code></li> <li>Select merchant's facade and enter your public key,</li> <li>Click request pairing</li> <li>Click on Approve</li></ol> <h2 id="note"><a href="#note" class="header-anchor">#</a> Note</h2> <p><strong>BTCPay Server has an API compatible with Bitpay</strong>; changing your e-commerce application <strong>from Bitpay to BTCPay</strong> should take minimal effort.</p> <p>You can read the full API documentation <a href="https://bitpay.com/api#resource-Invoices" target="_blank" rel="noopener noreferrer">on Bitpay's website<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>There is only one difference: Bitpay only allows one account for one merchant, BTCPay allows a user to manage multiple stores.</p> <h2 id="modal-checkout"><a href="#modal-checkout" class="header-anchor">#</a> Modal Checkout</h2> <p>To generate a pop-up modal experience:</p> <ol><li>Include the btcpay.js script in your html page</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://your.btcpay.url/modal/btcpay.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>Call the invoice API to generate an invoice (example code). This is sample backend code as it contains an auth token that should not be exposed in your front-end.</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> axiosClient <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  baseURL<span class="token operator">:</span> <span class="token constant">BTCPAY_URL</span><span class="token punctuation">,</span>
  timeout<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  responseType<span class="token operator">:</span> <span class="token string">'json'</span><span class="token punctuation">,</span>
  headers<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span>
    <span class="token string">'Authorization'</span><span class="token operator">:</span> <span class="token constant">BTCPAY_AUTH</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> invoiceCreation <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;price&quot;</span><span class="token operator">:</span> <span class="token number">12345</span><span class="token punctuation">,</span>
  <span class="token string">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USD&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;orderId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;something&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;itemDesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;item description&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;notificationUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://webhook.after.checkout.com/goeshere&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;redirectURL&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://go.here.after.checkout.com&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axiosClient<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/invoices&quot;</span><span class="token punctuation">,</span> invoiceCreation<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> invoiceId <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>data<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li>Use the invoiceId to pop up the modal</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>btcpay<span class="token punctuation">.</span><span class="token function">showInvoice</span><span class="token punctuation">(</span>invoiceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="4"><li>You'll often want to do something like refresh the state of your page when the invoice is paid, or note some kind of state before the modal pops up. You can attach event listeners like this:</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>btcpay<span class="token punctuation">.</span><span class="token function">onModalWillEnter</span><span class="token punctuation">(</span>yourCallbackFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>btcpay<span class="token punctuation">.</span><span class="token function">onModalWillLeave</span><span class="token punctuation">(</span>yourCallbackFunction<span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>btcpay<span class="token punctuation">.</span><span class="token function">onModalReceiveMessageMethod</span><span class="token punctuation">(</span>yourCallbackFunction<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// available from v1.0.5.6</span>
</code></pre></div><p><code>onModalReceiveMessageMethod</code> will invoke your callback when a new status has been pushed from BTCPay Server to the invoice UI. The data format is <code>{invoiceId: &quot;x&quot;, status: &quot;y&quot; }</code></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/edit/master/docs/CustomIntegration.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="edit-link"><a href="https://github.com/btcpayserver/btcpayserver-doc/issues/new?title=Improve%20Using%20the%20BTCPay%20API%20for%20Custom%20Integration&amp;body=I%20could%20not%20find%20the%20information%20I%20was%20looking%20for%20on%20the%20%22Using%20the%20BTCPay%20API%20for%20Custom%20Integration%22%20page%20(%60%2FCustomIntegration%2F%60).%0A%0A%5BPLEASE%20DESCRIBE%20HOW%20THE%20PAGE%20CAN%20BE%20IMPROVED%5D&amp;labels=question" target="_blank" rel="noopener noreferrer">Didn't find an answer?</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="https://github.com/lampsolutions/LampSBtcPayShopware" target="_blank" rel="noopener noreferrer" class="prev">
        Shopware

        <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></span> <span class="next"><a href="/FAQ/FAQ-General/">
        General FAQ
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9c2fec19.js" defer></script><script src="/assets/js/3.7fd5ecbc.js" defer></script><script src="/assets/js/23.49665bea.js" defer></script><script src="/assets/js/67.5a6fef82.js" defer></script>
  </body>
</html>
